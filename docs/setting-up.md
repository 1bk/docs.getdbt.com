---
title: Setting up
---
This tutorial is geared at first-time users who want detailed instructions on
how to go from zero to a deployed dbt project.

This tutorial is based on a fictional business named `jaffle_shop`, so you'll
see this name used throughout the project.

In this tutorial, we will be turning the following query into a model built in dbt.
```sql
with customers as (

    select
        id as customer_id,
        first_name,
        last_name

    from `dbt-tutorial`.jaffle_shop.customers

),

orders as (

    select
        id as order_id,
        user_id as customer_id,
        order_date,
        status

    from `dbt-tutorial`.jaffle_shop.orders

),

customer_orders as (

    select
        customer_id,

        min(order_date) as first_order,
        max(order_date) as most_recent_order,
        count(order_id) as number_of_orders

    from orders

    group by 1

),


final as (

    select
        customers.customer_id,
        customers.first_name,
        customers.last_name,
        customer_orders.first_order,
        customer_orders.most_recent_order,
        customer_orders.number_of_orders

    from customers

    left join customer_orders using (customer_id)

)

select * from final
```

## Create a BigQuery project
We will be using BigQuery as our data warehouse in this tutorial since there is
a free tier. We've created a public dataset (`dbt-tutorial`) that anyone with
a BigQuery account can query.

You'll need your own BigQuery project for your dbt project.
1. Go to https://console.cloud.google.com/bigquery -- if you don't have a
BigQuery account you will be asked to create one.
2. Create a new project -- use the default name for the project.
<img alt="Create a BigQuery project" src="/img/create-bigquery-project.png" class="docImage"/>
3. Copy and paste the above query into the BigQuery console to validate that you
can run it.

## Generate BigQuery credentials
In order to let dbt connect to your warehouse, you'll need generate a keyfile.
This is analogous to using a database user name and password with most other
data warehouses.
1. Go to the credential wizard: https://console.cloud.google.com/apis/credentials/wizard. Ensure that your new project is selected at the top of the screen.
2. Generate credentials with the following options:
  * Which API are you using? BigQuery API
  * Are you planning to use this API with App Enginer or Compute Engine? No, I'm not using them
  * Service account name: `dbt-user`
  * Key type: JSON
3. Download the JSON file and save it in a place you can access


## Create a GitHub repository

1. Go to https://github.com/ and sign up for an account if you don't already have one.
1. Click on the green **New** button or go to https://github.com/new.
1. Type a repository name without spaces. For example, `dbt-tutorial`.
1. Click **Create repository** (without `.gitignore` and without a license).

<img alt="Create a GitHub repo" src="/img/create-github-repo.png" class="docImage"/>

## Choose the way you want to develop
There’s two main ways of working with dbt:
1. Edit files and run projects using the web-based Integrated Development
Environment (IDE) in **dbt Cloud**.
2. Edit files locally using a code editor, and run projects using the Command
Line Interface (**dbt CLI**).

To use the CLI, it's important that you know some basics of your terminal. In
particular, you should understand `cd`, `ls` and `pwd` to navigate through the
directory structure of your computer easily. As such, if you are new to
programming, we recommend using **dbt Cloud** for this tutorial.

If you wish to use the CLI, please follow the [installation instructions](https://docs.getdbt.com/docs/installation)
for your operating system.

## Create a dbt project
### dbt Cloud
1. Create a dbt Cloud account [here](https://cloud.getdbt.com/signup/). If your
organization already has a dbt Cloud account, ask an admin to add you as a
Developer.
2. [ On hold while we work on init project ]

### dbt CLI
The dbt CLI comes with a command to help you scaffold a dbt project. To create
your dbt project:
1. Run the `init` command:
```bash
dbt init jaffle-shop
```
2. `cd` into your project:
```bash
cd jaffle-shop
```
You can use `pwd` to confirm that you are in the right spot.

3. Open your project (i.e. the directory you just created) in a code editor like
Atom or VSCode. You should see a directory structure with `.sql` and `.yml` files
that were generated by the `init` command.

4. Update the following values in the `dbt_project.yml` file:
```yaml
name: jaffle_shop # this normally says my_new_package

...

profile: jaffle_shop # this normally says default

...

models:
  jaffle_shop: #this normally says my_new_package. It should match the value for `name:`
    ...
```

5. Link your GitHub repository to your dbt project by running the following
commands:
```bash
git init
git commit -m "first commit"
git remote add origin https://github.com/USERNAME/dbt-tutorial.git
git push -u origin master
```

> ℹ️ If this is your first time using git, it's worth taking some time to
understand the basics.


## Connect to BigQuery
### dbt Cloud
If you just created a dbt Cloud account for your organization, follow the
onboarding flow to connect to BigQuery.

If your organization has an existing dbt Cloud account, we'll need to create
a new `Environment` for this tutorial.
1. Create a BigQuery Connection by clicking the hamburger menu in the top left,
then `Account Settings`, `Connections`, and `New Connection`.
2. [?? what's the right order for this?]
1. Create a new environment by clicking the hamburger menu in the top left,
clicking `Environments` and then `New Environment`


### dbt CLI
When developing locally, dbt connects to your data warehouse using a `profile`.
1. Create a file in the `~/.dbt/` directory named `profiles.yml`.
2. Move your BigQuery keyfile into this directory.
3. Copy the following into the file, updating where indicated.
```yaml
jaffle_shop:
  target: dev
  outputs:
    dev:
      type: bigquery
      method: service-account
      keyfile: /Users/claire/.dbt/graceful-creek-cred.json # replace this with the full path to your keyfile
      project: graceful-creek-264520 # Replace this with your project id
      dataset: dbt_alice # Replace this with dbt_your_name, e.g. dbt_bob
      threads: 1
      timeout_seconds: 300
      location: US
      priority: interactive
```

4. Run the debug command from your project to confirm that you can succesfully
connect
```bash
dbt debug
```
Confirm that the last line of the output is `Connection test: OK connection ok`.
